{"version":3,"sources":["C:/_mik/gh/a5/JustTypingA5/src/$_lazy_route_resource lazy","C:/_mik/gh/a5/JustTypingA5/src/app/app.component.html","C:/_mik/gh/a5/JustTypingA5/src/app/app.component.less","C:/_mik/gh/a5/JustTypingA5/src/app/app.component.ts","C:/_mik/gh/a5/JustTypingA5/src/app/app.module.ts","C:/_mik/gh/a5/JustTypingA5/src/app/jt-game/assets-nioptesa.ts","C:/_mik/gh/a5/JustTypingA5/src/app/jt-game/game-commons.ts","C:/_mik/gh/a5/JustTypingA5/src/app/jt-game/game-sprites.ts","C:/_mik/gh/a5/JustTypingA5/src/app/jt-game/my-game.ts","C:/_mik/gh/a5/JustTypingA5/src/app/test-game/test-game.component.html","C:/_mik/gh/a5/JustTypingA5/src/app/test-game/test-game.component.less","C:/_mik/gh/a5/JustTypingA5/src/app/test-game/test-game.component.ts","C:/_mik/gh/a5/JustTypingA5/src/environments/environment.ts","C:/_mik/gh/a5/JustTypingA5/src/main.ts","C:/_mik/gh/a5/JustTypingA5/src/test-3rd-party/prando.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"../../../../../src/$$_lazy_route_resource lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/_mik/gh/a5/JustTypingA5/src/$$_lazy_route_resource lazy\n// module id = ../../../../../src/$$_lazy_route_resource lazy recursive\n// module chunks = main","module.exports = \"<div>\\r\\n  <jt-test-game></jt-test-game>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/_mik/gh/a5/JustTypingA5/src/app/app.component.html\n// module id = ../../../../../src/app/app.component.html\n// module chunks = main","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/_mik/gh/a5/JustTypingA5/src/app/app.component.less\n// module id = ../../../../../src/app/app.component.less\n// module chunks = main","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'jt-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.less']\n})\nexport class AppComponent {\n  title = 'jt';\n}\n\n\n\n// WEBPACK FOOTER //\n// C:/_mik/gh/a5/JustTypingA5/src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\n\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { TestGameComponent } from './test-game/test-game.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    TestGameComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// C:/_mik/gh/a5/JustTypingA5/src/app/app.module.ts","export const AssetUrls = {\r\n  vocabFile: 'assets/data/result_asdfghjkl.txt',\r\n  bg_dunes_1000: 'assets/img/bg_dunes_1000.png',\r\n  bg_dunes_inner_1000: 'assets/img/bg_dunes_inner_1000.png',\r\n  raft_800: 'assets/img/raft_800.png',\r\n  tree1: 'assets/img/varia/palm_tree1_150.png',\r\n  tree2: 'assets/img/varia/palm_tree2_130.png',\r\n  tree3: 'assets/img/varia/palm_tree3_130.png',\r\n  pyramid1: 'assets/img/varia/egypt_collonade_360.png',\r\n  pyramid2: 'assets/img/varia/egypt_obelisk1_80.png',\r\n  pyramid3: 'assets/img/varia/egypt_obelisk2_80.png',\r\n  pyramid4: 'assets/img/varia/egypt_pyramid_280.png',\r\n  gameOver: 'assets/img/game_over_tmp.png', // TODO: draw your own!!!\r\n  rateProgress: {\r\n    empty: 'assets/img/rate_progress.png',\r\n    full: 'assets/img/rate_progress_full.png',\r\n  },\r\n  villain: {\r\n    glyphShip: 'assets/img/villain/villain-glyph-ship.png',\r\n    mask1: 'assets/img/villain/mask-bird.png',\r\n    mask2: 'assets/img/villain/mask-crocodile.png',\r\n    mask3: 'assets/img/villain/mask-hippo.png',\r\n    mask4: 'assets/img/villain/mask-jackal.png',\r\n    // shootRock: 'assets/img/villain/villain-shoot-rock.png',\r\n    // shootRockReal: 'assets/img/villain/villain-shoot-rock-real.png',\r\n  },\r\n  spritesheet: {\r\n    riverWave: 'assets/img/wave_comic_50.png',\r\n    splash: 'assets/img/spritesheet-splash.png',\r\n    hunter: {\r\n      img: 'assets/img/spritesheet-hunter.png',\r\n      json: 'assets/img/spritesheet-hunter.json'\r\n    },\r\n    tomkarate: {\r\n      img: 'assets/img/spritesheet-tomkarate.png',\r\n      json: 'assets/img/spritesheet-tomkarate.json'\r\n    },\r\n    logs: {\r\n      img: 'assets/img/spritesheet-log-debris.png',\r\n      json: 'assets/img/spritesheet-log-debris.json'\r\n    },\r\n    blocks: {\r\n      img: 'assets/img/spritesheet-block.png',\r\n      json: 'assets/img/spritesheet-block.json'\r\n    },\r\n    villainBody: {\r\n      img: 'assets/img/villain/spritesheet-villain.png',\r\n      json: 'assets/img/villain/spritesheet-villain.json'\r\n    },\r\n    villainShipChunks: {\r\n      img: 'assets/img/villain/spritesheet-vilshipchunks.png',\r\n      json: 'assets/img/villain/spritesheet-vilshipchunks.json'\r\n    },\r\n    villainShootRock: {\r\n      img: 'assets/img/villain/spritesheet-projectile.png',\r\n      json: 'assets/img/villain/spritesheet-projectile.json'\r\n    },\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// C:/_mik/gh/a5/JustTypingA5/src/app/jt-game/assets-nioptesa.ts","export class MyUtils {\r\n  /** NOTE: this method assumes the list contains unique elements. In case of collision, it just gives (index + 1) % len */\r\n  static sampleUnique<T>(list: T[], cur: T): T {\r\n    let randIndex = Math.floor(Math.random() * list.length);\r\n    return (list[randIndex] !== cur)\r\n      ? list[randIndex]\r\n      : list[(randIndex + 1) % list.length];\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// C:/_mik/gh/a5/JustTypingA5/src/app/jt-game/game-commons.ts","import Prando from \"test-3rd-party/prando\";\r\nimport * as _ from 'lodash';\r\nimport { AssetUrls } from './assets-nioptesa';\r\nimport { MyUtils } from './game-commons';\r\n\r\nexport class RandomSidescrollingArtifactsConfig {\r\n  nObj: number;\r\n  eventDelay: number;\r\n  prandoSeed: number;\r\n  prandoRange: number;\r\n  /** NOTE: has to be negative since we are scrolling leftwards */\r\n  xVelocity: number;\r\n  yPos: {\r\n    min: number;\r\n    max: number;\r\n  };\r\n  scale: {\r\n    min: number;\r\n    max: number;\r\n  };\r\n}\r\n\r\nexport class RandomSidescrollingArtifacts {\r\n  private prandoGenerator: Prando;\r\n\r\n  constructor(\r\n    game: Phaser.Game,\r\n    imageKeys: string[],\r\n    private config: RandomSidescrollingArtifactsConfig,\r\n  ) {\r\n    config = Object.assign(<RandomSidescrollingArtifactsConfig> {\r\n      nObj: 20,\r\n      eventDelay: 300,\r\n      prandoSeed: 123,\r\n      prandoRange: 20,\r\n      xVelocity: -100,\r\n      scale: {\r\n        min: 0.3,\r\n        max: 0.5,\r\n      },\r\n      yPos: {\r\n        min: 200,\r\n        max: 250,\r\n      }\r\n    }, config);\r\n    this.reset();\r\n    let spriteGroups = imageKeys.map(imageName => {\r\n      let myGroup = game.add.group();\r\n      myGroup.enableBody = true;\r\n      myGroup.physicsBodyType = Phaser.Physics.ARCADE;\r\n      myGroup.createMultiple(config.nObj, imageName);\r\n      myGroup.setAll('anchor.x', 0);\r\n      myGroup.setAll('anchor.y', 1);\r\n      myGroup.setAll('outOfBoundsKill', true);\r\n      myGroup.setAll('checkWorldBounds', true);\r\n      return myGroup;\r\n    });\r\n    game.time.events.loop(config.eventDelay, () => {\r\n      let randyIndex = Math.floor(this.prandoGenerator.next(0, config.prandoRange));\r\n      // let randyIndex = Math.floor(Math.random() * config.prandoRange);\r\n      if (randyIndex < spriteGroups.length) {\r\n        var sprite = spriteGroups[randyIndex].getFirstExists(false);\r\n        if (sprite) {\r\n          let randScaleFactor = this.prandoGenerator.next(config.scale.min, config.scale.max);\r\n          sprite.scale.x = randScaleFactor;\r\n          sprite.scale.y = randScaleFactor;\r\n          sprite.reset(800, this.prandoGenerator.next(config.yPos.min, config.yPos.max));\r\n          sprite.body.velocity.x = config.xVelocity;\r\n        }\r\n      }\r\n    }, game);\r\n  }\r\n\r\n  reset() {\r\n    this.prandoGenerator = new Prando(this.config.prandoSeed);\r\n  }\r\n}\r\n\r\nexport class RateMeterUiSprite {\r\n\r\n  private rateMeterEmpty: Phaser.Image;\r\n  private rateMeterFull: Phaser.Image;\r\n\r\n  constructor(\r\n    game: Phaser.Game\r\n  ) {\r\n    let rateMeterGroup = game.add.group(null, 'rate-meter', true);\r\n    this.rateMeterEmpty = game.add.image(0, 0, 'rateProgress', 0, rateMeterGroup);\r\n    this.rateMeterFull = game.add.image(0, 0, 'rateProgressFull', 0, rateMeterGroup);\r\n    rateMeterGroup.position.set(game.world.width - 10, game.world.height - 10);\r\n    rateMeterGroup.scale.set(0.6, 0.6);\r\n    this.rateMeterEmpty.anchor.set(1, 1);\r\n    this.rateMeterFull.anchor.set(1, 1);\r\n    this.setRate(0);\r\n  }\r\n  \r\n  setRate(rate: number) {\r\n    // console.log(rate);\r\n    rate = Math.min(rate, 1);\r\n    let cropRect = new Phaser.Rectangle(0, this.rateMeterEmpty.height * (1 - rate), this.rateMeterEmpty.width, this.rateMeterEmpty.height * rate)\r\n    this.rateMeterFull.crop(cropRect);\r\n  }\r\n\r\n  public static preload(game: Phaser.Game) {\r\n    game.load.image('rateProgress', AssetUrls.rateProgress.empty);\r\n    game.load.image('rateProgressFull', AssetUrls.rateProgress.full);\r\n  }\r\n\r\n}\r\n\r\n//#region --------------------------- villain ----------------------------\r\n\r\nexport class VillainOnAShipSpriteFactory {\r\n  constructor(\r\n    private villainSpriteFactory: VillainComplexSpriteFactory,\r\n  ) {\r\n  }\r\n\r\n  preload(game: Phaser.Game) {\r\n    game.load.image('villain-glyph-ship', AssetUrls.villain.glyphShip);\r\n    // game.load.image('villain-shoot-rock', AssetUrls.villain.shootRock);\r\n    // game.load.image('villain-shoot-rock', AssetUrls.villain.shootRockReal); // CODE: bf263593: if using real rock\r\n    game.load.atlasJSONHash(\r\n      'villain-shoot-rock',\r\n      AssetUrls.spritesheet.villainShootRock.img,\r\n      AssetUrls.spritesheet.villainShootRock.json,\r\n      Phaser.Loader.TEXTURE_ATLAS_JSON_HASH);\r\n    game.load.atlasJSONHash(\r\n      'vilship-chunks',\r\n      AssetUrls.spritesheet.villainShipChunks.img,\r\n      AssetUrls.spritesheet.villainShipChunks.json,\r\n      Phaser.Loader.TEXTURE_ATLAS_JSON_HASH);\r\n  }\r\n\r\n  createSprite(game: Phaser.Game): VillainOnAShipSprite {\r\n    let villainSprite = this.villainSpriteFactory.createSprite(game);\r\n    return new VillainOnAShipSprite(game, villainSprite);\r\n  }\r\n}\r\n\r\nexport class VillainComplexSpriteFactory {\r\n  constructor(\r\n  ) {\r\n  }\r\n\r\n  preload(game: Phaser.Game) {\r\n    game.load.atlasJSONHash(\r\n      'villain-parts',\r\n      AssetUrls.spritesheet.villainBody.img,\r\n      AssetUrls.spritesheet.villainBody.json,\r\n      Phaser.Loader.TEXTURE_ATLAS_JSON_HASH);\r\n    game.load.image('villain-mask1', AssetUrls.villain.mask1);\r\n    game.load.image('villain-mask2', AssetUrls.villain.mask2);\r\n    game.load.image('villain-mask3', AssetUrls.villain.mask3);\r\n    game.load.image('villain-mask4', AssetUrls.villain.mask4);\r\n  }\r\n\r\n  createSprite(game: Phaser.Game): VillainComplexSprite {\r\n    return new VillainComplexSprite(game);\r\n  }\r\n}\r\n\r\n//-------------------------------------------------------------------------\r\n\r\nexport class VillainOnAShipSprite {\r\n  public readonly root: Phaser.Sprite;\r\n\r\n  private emitterShipChunks: Phaser.Particles.Arcade.Emitter;\r\n  private spriteShip: Phaser.Sprite;\r\n  private curTweenOminousFlying: Phaser.Tween;\r\n  rockProjectile: Phaser.Sprite;\r\n  rockIsFlying: boolean;\r\n\r\n  constructor(\r\n    private game: Phaser.Game,\r\n    public villain: VillainComplexSprite,\r\n  ) {\r\n    this.root = game.add.sprite();\r\n\r\n    this.spriteShip = game.add.sprite(0, 0, 'villain-glyph-ship');\r\n    this.spriteShip.z = -1;\r\n    //this.spriteShip.scale.setTo(1.5, 1.5);\r\n    villain.root.scale.setTo(0.5, 0.5);\r\n    villain.root.position.setTo(125, 196);\r\n    villain.DoEgyptianDance();\r\n    // villainSprite.DoArmspread();\r\n    // villainSprite.PlayFallAnimation();\r\n\r\n    //--------------------------------------------------------------------\r\n    // particle effect: exploding logs\r\n    this.emitterShipChunks = game.add.emitter(0, 0, 10);\r\n    this.emitterShipChunks.makeParticles('vilship-chunks', ['chunk1', 'chunk2', 'chunk3', 'chunk4', 'chunk5', 'chunk6'], 20, false, false);\r\n    const angleRange = 90;\r\n    this.emitterShipChunks.setAngle(-90 - angleRange/2, -90 + angleRange/2, 10, 500);\r\n    // this.emitterShipChunks.scale = new Phaser.Point(0.25, 0.25);\r\n    this.emitterShipChunks.gravity = new Phaser.Point(0, 1000);\r\n\r\n    this.root.addChild(this.spriteShip);\r\n    this.root.addChild(villain.root);\r\n\r\n    this.rockProjectile = this.game.add.sprite(0, 0, 'villain-shoot-rock', 'rock');\r\n    this.rockProjectile.animations.add('rock', ['rock'], 1, true);\r\n    let rockAnimExplode = this.rockProjectile.animations.add('explode', ['rock-break1', 'rock-break2', 'rock-break3'], 10, false);\r\n    rockAnimExplode.onComplete.add((mySprite: Phaser.Sprite, animation: Phaser.Animation) => {\r\n      this.rockProjectile.kill();\r\n    }, game);\r\n    this.rockProjectile.anchor.setTo(0.5, 0.5);\r\n    this.rockProjectile.scale.setTo(0.4, 0.4); // CODE: bf263593: if using real rock\r\n    this.rockProjectile.visible = false;\r\n  }\r\n\r\n  declencheOminousFlying() {\r\n    this.stopOminousFlying();\r\n    \r\n    const NTweenSteps = 40;\r\n    const hoverDelta = 50;\r\n    const hoverAroundX = this.game.world.centerX + 100;\r\n    const hoverAroundY = this.game.world.centerY - 220;\r\n    const easingType = Phaser.Easing.Linear.None;\r\n    // const easingType = Phaser.Easing.Cubic.InOut;\r\n    const tweenStepDelay = 1000;\r\n\r\n    this.root.position.setTo(hoverAroundX, hoverAroundY);\r\n    this.curTweenOminousFlying = this.game.add.tween(this.root);\r\n    this.curTweenOminousFlying.loop(true);\r\n    \r\n    // OPTION 1: hardcode this tween sequence (lame)\r\n    // this.curTweenOminousFlying.to({ x: hoverAroundX + hoverDelta }, tweenStepDelay, easingType);\r\n    // this.curTweenOminousFlying.to({ y: hoverAroundY - hoverDelta }, tweenStepDelay, easingType);\r\n    // this.curTweenOminousFlying.to({ y: hoverAroundY + hoverDelta }, tweenStepDelay, easingType);\r\n    // this.curTweenOminousFlying.to({ x: hoverAroundX - hoverDelta }, tweenStepDelay, easingType);\r\n    // this.curTweenOminousFlying.to({ y: hoverAroundY - hoverDelta }, tweenStepDelay, easingType);\r\n    // this.curTweenOminousFlying.to({ x: hoverAroundX + hoverDelta }, tweenStepDelay, easingType);\r\n    // this.curTweenOminousFlying.to({ y: hoverAroundY }, tweenStepDelay, easingType);\r\n    // this.curTweenOminousFlying.to({ x: hoverAroundX - hoverDelta }, tweenStepDelay, easingType);\r\n    // this.curTweenOminousFlying.to({ y: hoverAroundY + hoverDelta }, tweenStepDelay, easingType);\r\n\r\n    // OPTION 2: generate random tween sequence!\r\n    let xLocations = [\r\n      hoverAroundX - hoverDelta * 2,\r\n      hoverAroundX - hoverDelta,\r\n      // hoverAroundX,\r\n      hoverAroundX + hoverDelta,\r\n      hoverAroundX + hoverDelta * 2,\r\n    ];\r\n    let yLocations = [\r\n      hoverAroundY - hoverDelta,\r\n      // hoverAroundY,\r\n      hoverAroundY + hoverDelta,\r\n      hoverAroundY + hoverDelta * 2,\r\n    ];\r\n    let curX = hoverAroundX;\r\n    let curY = hoverAroundY;\r\n    for (let i = 0; i < NTweenSteps; i++) {\r\n      if (Math.random() > 0.5) {\r\n        // .... move x\r\n        curX = MyUtils.sampleUnique(xLocations, curX);\r\n        this.curTweenOminousFlying.to({ x: curX }, tweenStepDelay, easingType);\r\n      }\r\n      else {\r\n        // .... move y\r\n        curY = MyUtils.sampleUnique(yLocations, curY);\r\n        this.curTweenOminousFlying.to({ y: curY }, tweenStepDelay, easingType);\r\n      }\r\n    }\r\n    this.curTweenOminousFlying.to({ x: hoverAroundX }, tweenStepDelay, easingType);\r\n    this.curTweenOminousFlying.to({ y: hoverAroundY }, tweenStepDelay, easingType);\r\n    this.curTweenOminousFlying.start();\r\n  }\r\n\r\n  FireRock(arcadePhysicsGroup00: Phaser.Group) {\r\n    let startX = this.root.position.x + 50;\r\n    let startY = this.root.position.y + 190;\r\n\r\n    if (!arcadePhysicsGroup00.contains(this.rockProjectile))\r\n      arcadePhysicsGroup00.add(this.rockProjectile);\r\n    this.rockProjectile.animations.play('rock');\r\n    this.rockProjectile.reset(startX, startY);\r\n    this.rockProjectile.visible = true;\r\n    this.rockProjectile.physicsEnabled = true;\r\n    this.rockProjectile.physicsType = Phaser.Physics.ARCADE;\r\n    this.rockProjectile.body.gravity.y = 500;\r\n    this.rockProjectile.body.velocity.y = -150;\r\n    this.rockProjectile.body.velocity.x = -startX * 0.35;\r\n    this.rockIsFlying = true;\r\n  }\r\n\r\n  stopOminousFlying() {\r\n    if (this.curTweenOminousFlying)\r\n      this.curTweenOminousFlying.stop();\r\n  }\r\n\r\n  killRockProjectile() {\r\n    this.rockIsFlying = false;\r\n    this.rockProjectile.animations.play('explode');\r\n    if (this.rockProjectile.body) {\r\n      this.rockProjectile.body.velocity.y = -100;\r\n      //this.rockProjectile.body.velocity.x = 100;\r\n    }\r\n  }\r\n\r\n  declencheBlowUp() {\r\n    this.stopOminousFlying();\r\n    this.emitterShipChunks.position = this.root.position.clone();\r\n    this.emitterShipChunks.position.add(100, 150);\r\n    this.emitterShipChunks.start(true, 2000, null, 7);\r\n    this.spriteShip.visible = false;\r\n    this.villain.PlayFallAnimation();\r\n\r\n    // NOTE: detching villain sprite from this group...\r\n    this.root.removeChild(this.villain.root);\r\n    this.villain.root.position.add(this.root.position.x, this.root.position.y);\r\n  }\r\n\r\n\r\n}\r\n\r\nexport enum VillainComplexSpriteState {\r\n  Idle,\r\n  EgyptianDance,\r\n  Armspread,\r\n  Falling,\r\n}\r\nexport class VillainComplexSprite {\r\n\r\n  private readonly NMasks = 4;\r\n\r\n  public readonly root: Phaser.Sprite;\r\n\r\n  private state: VillainComplexSpriteState;\r\n  private spriteTorso: Phaser.Sprite;\r\n  private armsL: Phaser.Sprite[];\r\n  private armsR: Phaser.Sprite[];\r\n  private hugArmL: Phaser.Sprite;\r\n  private hugArmR: Phaser.Sprite;\r\n  mask: Phaser.Sprite;\r\n\r\n  constructor(\r\n    private game: Phaser.Game,\r\n  ) {\r\n    this.root = game.add.sprite();\r\n\r\n    this.spriteTorso = game.add.sprite(0, 0, 'villain-parts', 'villain-stand-torso-legs');\r\n    this.spriteTorso.anchor.setTo(0.5, 1);\r\n    this.spriteTorso.animations.add('stand', ['villain-stand-torso-legs'], 1, true);\r\n    this.spriteTorso.animations.add('fall', ['villain-fall1', 'villain-fall2', 'villain-fall3', 'villain-fall2'], 10, true);\r\n    this.root.addChild(this.spriteTorso);\r\n    \r\n    this.armsL = this.createArmVariations(game);\r\n    this.armsL.forEach(arm => {\r\n      arm.visible = false;\r\n      arm.position.x = -14;\r\n      arm.position.y = -86;\r\n      this.root.addChild(arm);\r\n    });\r\n    this.armsR = this.createArmVariations(game);\r\n    this.armsR.forEach(arm => {\r\n      arm.visible = false;\r\n      arm.position.x = 12;\r\n      arm.position.y = -88;\r\n      arm.scale.x = -1;\r\n      this.root.addChild(arm);\r\n    });\r\n    this.hugArmL = game.add.sprite(-14, -86, 'villain-parts', 'villain-armL');\r\n    this.hugArmL.visible = false;\r\n    this.hugArmL.anchor.setTo(1, 0.7);\r\n    this.hugArmR = game.add.sprite(12, -88, 'villain-parts', 'villain-armR');\r\n    this.hugArmR.visible = false;\r\n    this.hugArmR.anchor.setTo(0, 0.7);\r\n    this.root.addChild(this.hugArmL);\r\n    this.root.addChild(this.hugArmR);\r\n    this.state = VillainComplexSpriteState.Idle;\r\n\r\n    let maskIndex = Math.floor(Math.random() * 4) + 1;\r\n    this.mask = game.add.sprite(0, -80, `villain-mask${maskIndex}`);\r\n    this.mask.anchor.setTo(0.6, 1);\r\n    this.mask.scale.setTo(0.35, 0.35);\r\n    this.root.addChild(this.mask);\r\n    this.resetMask();\r\n  }\r\n\r\n  //#region ------------- creation ----------------------\r\n  private createArmVariations(game: Phaser.Game): Phaser.Sprite[] {\r\n    return [\r\n      this.createArm(game, [\r\n        'villain-arm-egy1',\r\n        'villain-arm-egy2',\r\n        'villain-arm-egy3',\r\n        'villain-arm-egy4',\r\n      ], 1, 0.17),\r\n      // this.createArm(game, [\r\n      //   'villain-arm-egy1',\r\n      //   'villain-arm-egy2',\r\n      // ], 1, 0.17),\r\n      // this.createArm(game, [\r\n      //   'villain-arm-egy3',\r\n      //   'villain-arm-egy4',\r\n      // ], 1, 0.17),\r\n      this.createArm(game, [\r\n        'villain-arm-egy5',\r\n        'villain-arm-egy6',\r\n        'villain-arm-egy7',\r\n      ], 1, 0.75),\r\n      // this.createArm(game, [\r\n      //   'villain-arm-egy5',\r\n      //   'villain-arm-egy6',\r\n      // ], 1, 0.75),\r\n      // this.createArm(game, [\r\n      //   'villain-arm-egy6',\r\n      //   'villain-arm-egy7',\r\n      // ], 1, 0.75),\r\n    ];\r\n  }\r\n  private createArm(game: Phaser.Game, frameParts: string[], anchorX: number, anchorY: number): Phaser.Sprite {\r\n    let arm = game.add.sprite(0, 0, 'villain-parts');\r\n    arm.animations.add('move', frameParts, 10, false);\r\n    arm.anchor.setTo(anchorX, anchorY);\r\n    arm.animations.play('move');\r\n    return arm;\r\n  }\r\n  //#endregion\r\n\r\n  DoEgyptianDance() {\r\n    if (this.state == VillainComplexSpriteState.EgyptianDance)\r\n      return; // NOTE: already dancing!\r\n    this.resetMask();\r\n    this.StopArmAnimations();\r\n    this.spriteTorso.animations.play('stand');\r\n    this.DoOneArmDance(this.armsL);\r\n    this.DoOneArmDance(this.armsR);\r\n    this.state = VillainComplexSpriteState.EgyptianDance;\r\n  }\r\n\r\n  DoArmspread() {\r\n    if (this.state == VillainComplexSpriteState.Armspread)\r\n      return;\r\n    this.resetMask();\r\n    this.StopArmAnimations();\r\n    this.spriteTorso.animations.play('stand');\r\n    this.hugArmL.visible = true;\r\n    this.hugArmR.visible = true;\r\n    this.state = VillainComplexSpriteState.Armspread;\r\n  }\r\n\r\n  private resetMask() {\r\n    this.mask.rotation = 0;\r\n    this.mask.position.setTo(0, -80);\r\n  }\r\n\r\n  PlayFallAnimation() {\r\n    if (this.state == VillainComplexSpriteState.Falling)\r\n      return;\r\n    this.StopArmAnimations();\r\n    this.spriteTorso.animations.play('fall');\r\n    this.state = VillainComplexSpriteState.Falling;\r\n    this.mask.rotation = Math.PI * 1.2;\r\n    this.mask.position.setTo(10, -80);\r\n  }\r\n\r\n  private StopArmAnimations() {\r\n    _.union(this.armsL, this.armsR).forEach(arm => {\r\n      let anim = arm.animations.getAnimation('move');\r\n      anim.stop(true, false);\r\n      anim.onComplete.removeAll();\r\n      arm.visible = false;\r\n    });\r\n    this.hugArmL.visible = false;\r\n    this.hugArmR.visible = false;\r\n    this.state = VillainComplexSpriteState.Idle;\r\n  }\r\n\r\n  private DoOneArmDance(arms: Phaser.Sprite[]) {\r\n    let arm = _.sample(arms);\r\n    arm.visible = true;\r\n    arm.animations.play('move').onComplete.addOnce((mySprite: Phaser.Sprite, myAnimation: Phaser.Animation) => {\r\n      arm.visible = false;\r\n      this.DoOneArmDance(arms);\r\n    }, this.game);\r\n  }\r\n\r\n}\r\n\r\n//#endregion\n\n\n// WEBPACK FOOTER //\n// C:/_mik/gh/a5/JustTypingA5/src/app/jt-game/game-sprites.ts","import Prando from \"test-3rd-party/prando\";\r\nimport * as _ from 'lodash';\r\nimport { AssetUrls } from \"./assets-nioptesa\";\r\nimport { RateMeterUiSprite, RandomSidescrollingArtifacts, RandomSidescrollingArtifactsConfig, VillainComplexSpriteFactory, VillainOnAShipSpriteFactory, VillainOnAShipSprite } from \"./game-sprites\";\r\n\r\n\r\nmodule AcousterNioptesa {\r\n\r\n  enum GameplayStates {\r\n    Stella,\r\n    Villain,\r\n    GameOver,\r\n  }\r\n\r\n  class MyGameStateMain extends Phaser.State {\r\n\r\n    // TODO: move to contants\r\n    readonly stellaX = 500;\r\n    readonly stellaY = 100;\r\n    readonly stellaGravity = 100;\r\n    readonly TypingRateStartValue = 0; // CODE: 4cc7dd56: set to 1 for tmp villain test;\r\n    readonly TypingRateDeltaOutOf1 = 0.1;\r\n    readonly TimeSecondsTillRockIsFired = 1;\r\n    \r\n    // level state\r\n    vocabWords: string[];\r\n\r\n    // gameplay state\r\n    friendsJumpedShip: boolean;\r\n    gameOverPrettyMuch: boolean;\r\n    typingRate: number;\r\n    gameplayState: GameplayStates;\r\n\r\n    // sprites\r\n    river: Phaser.Rectangle;\r\n    raft: Phaser.Sprite;\r\n    bgScrollingDunes: Phaser.TileSprite;\r\n    bgScrollingGrass: Phaser.TileSprite;\r\n    hunter: Phaser.Sprite;\r\n    tomKarate: Phaser.Sprite;\r\n    raftGroup: Phaser.Group;\r\n    thoseWhoFallInWater: Phaser.Group;\r\n    emitterLogs: Phaser.Particles.Arcade.Emitter;\r\n    // buttonFire: Phaser.Key;\r\n    // buttonA: Phaser.Key;\r\n    // buttonD: Phaser.Key;\r\n    bgScrollingPyramids: RandomSidescrollingArtifacts;\r\n    bgScrollingTrees: RandomSidescrollingArtifacts;\r\n    splashes: Phaser.Group;\r\n    stella: Phaser.Sprite;\r\n    arcadePhysicsGroup00: Phaser.Group;\r\n    spriteTextCur: Phaser.Text;\r\n    textCur: string;\r\n    textUser: string;\r\n    rougueChar: string;\r\n    gameOverSign: Phaser.Sprite;\r\n    rateMeterSprite: RateMeterUiSprite;\r\n    villainFactory: VillainComplexSpriteFactory;\r\n    villainShipFactory: VillainOnAShipSpriteFactory;\r\n    villainShip: VillainOnAShipSprite;\r\n    curRockEvent: Phaser.TimerEvent;\r\n\r\n    preload(game: Phaser.Game) {\r\n      game.load.image('bg-dunes', AssetUrls.bg_dunes_1000);\r\n      game.load.image('bg-grass', AssetUrls.bg_dunes_inner_1000);\r\n      game.load.image('raft', AssetUrls.raft_800);\r\n      game.load.spritesheet('small-wave', AssetUrls.spritesheet.riverWave, 50, 50, 5);\r\n      game.load.spritesheet('splash', AssetUrls.spritesheet.splash, 64, 64, 9);\r\n      game.load.image('tree1', AssetUrls.tree1);\r\n      game.load.image('tree2', AssetUrls.tree2);\r\n      game.load.image('tree3', AssetUrls.tree3);\r\n      game.load.image('pyramid1', AssetUrls.pyramid1);\r\n      game.load.image('pyramid2', AssetUrls.pyramid2);\r\n      game.load.image('pyramid3', AssetUrls.pyramid3);\r\n      game.load.image('pyramid4', AssetUrls.pyramid4);\r\n      game.load.image('game-over', AssetUrls.gameOver);\r\n      game.load.text('vocab', AssetUrls.vocabFile);\r\n      RateMeterUiSprite.preload(game);\r\n\r\n      // game.load.image('player', 'assets/img/player.svg');\r\n      // game.load.image('player', 'assets/img/santo-gun.png');\r\n      // game.load.image('bullet', 'assets/img/bullet.svg');\r\n      // game.load.audio('music', 'assets/audio/rising-sun.mp3');\r\n      // LINK: https://www.leshylabs.com/apps/sstool/\r\n      game.load.atlasJSONHash(\r\n        'hunter',\r\n        AssetUrls.spritesheet.hunter.img,\r\n        AssetUrls.spritesheet.hunter.json,\r\n        Phaser.Loader.TEXTURE_ATLAS_JSON_HASH);\r\n      game.load.atlasJSONHash(\r\n        'tomkarate',\r\n        AssetUrls.spritesheet.tomkarate.img,\r\n        AssetUrls.spritesheet.tomkarate.json,\r\n        Phaser.Loader.TEXTURE_ATLAS_JSON_HASH);\r\n      game.load.atlasJSONHash(\r\n        'log-debris',\r\n        AssetUrls.spritesheet.logs.img,\r\n        AssetUrls.spritesheet.logs.json,\r\n        Phaser.Loader.TEXTURE_ATLAS_JSON_HASH);\r\n      game.load.atlasJSONHash(\r\n        'blocks',\r\n        AssetUrls.spritesheet.blocks.img,\r\n        AssetUrls.spritesheet.blocks.json,\r\n        Phaser.Loader.TEXTURE_ATLAS_JSON_HASH);\r\n\r\n      this.villainFactory = new VillainComplexSpriteFactory();\r\n      this.villainFactory.preload(game);\r\n      this.villainShipFactory = new VillainOnAShipSpriteFactory(this.villainFactory);\r\n      this.villainShipFactory.preload(game);\r\n    }\r\n\r\n    create(game: Phaser.Game) {\r\n      game.stage.backgroundColor = \"#c4ebff\";\r\n      \r\n      //--------------------------------------------------------------------\r\n      // create river and mountains and pseudo-random scrolling trees/pyramids\r\n      // NOTE: init like this for z-indexing\r\n      this.bgScrollingDunes = game.add.tileSprite(0, 0, 800, 200, 'bg-dunes');\r\n      this.bgScrollingPyramids = new RandomSidescrollingArtifacts(game, ['pyramid1', 'pyramid2', 'pyramid3', 'pyramid4'], <RandomSidescrollingArtifactsConfig> {\r\n        nObj: 6,\r\n        prandoSeed: 456,\r\n        prandoRange: 80,\r\n        xVelocity: -80,\r\n        yPos: { min: 245, max: 255 },\r\n        scale: { min: 0.4, max: 0.6 },\r\n      });\r\n      this.bgScrollingGrass = game.add.tileSprite(0, 0, 800, 130, 'bg-grass');\r\n      this.bgScrollingTrees = new RandomSidescrollingArtifacts(game, ['tree1', 'tree2', 'tree3'], <RandomSidescrollingArtifactsConfig> {\r\n        nObj: 15,\r\n        prandoSeed: 123,\r\n        prandoRange: 15,\r\n        xVelocity: -100,\r\n        yPos: { min: 290, max: 310 },\r\n        scale: { min: 0.25, max: 0.35 },\r\n      });\r\n      this.bgScrollingDunes.position.y = 40;\r\n      this.bgScrollingGrass.position.y = 200;\r\n      this.game_add_River(game);\r\n\r\n      //--------------------------------------------------------------------\r\n      // create waves\r\n      const nWaves:number = 20;\r\n      for (var i = 0; i < nWaves; i++)\r\n      {\r\n        var wave = game.add.sprite(game.world.randomX, (Math.random() * 280) + 320, 'small-wave');\r\n        let randScale = Math.random() * 1 + 0.5;\r\n        wave.scale.setTo(randScale, randScale);\r\n        let anim = wave.animations.add('wavesplash', [0,1,2,3,4], 10, false);\r\n        anim.onComplete.add((waveSprite: Phaser.Sprite, animation: Phaser.Animation) => {\r\n          waveSprite.x = game.world.randomX;\r\n          waveSprite.y = (Math.random() * 280) + 320;\r\n          waveSprite.animations.play('wavesplash');\r\n        }, game);\r\n        wave.animations.play('wavesplash');\r\n        wave.animations.next(Math.floor(Math.random() * 5)); // LESSON: 82fdd785: this only works after `play` has been called\r\n        //wave.animations.play('wavesplash', Math.floor(Math.random() * 5 + 5)); // NOTE: 82fdd785: this works too\r\n      }\r\n\r\n      //--------------------------------------------------------------------\r\n      // TODO: 9d495005: how did they do explosions in space invaders?\r\n      this.splashes = game.add.group();\r\n      for (var i = 0; i < 5; i++) {\r\n        var splash = game.add.sprite(0, 0, 'splash');\r\n        splash.scale = new Phaser.Point(3, 3);\r\n        let anim = splash.animations.add('splash', [0,1,2,3,4,6,7,8,9], 10, false);\r\n        anim.onComplete.add((splashSprite: Phaser.Sprite, animation: Phaser.Animation) => {\r\n          splashSprite.kill();\r\n        }, game);\r\n        this.splashes.add(splash);\r\n      }\r\n      this.splashes.setAll('anchor.x', 0.5);\r\n      this.splashes.setAll('anchor.y', 1);\r\n      this.splashes.killAll();\r\n\r\n      //--------------------------------------------------------------------\r\n      // make villain and his ship\r\n      this.villainShip = this.villainShipFactory.createSprite(game);\r\n      this.villainShip.root.position.setTo(game.world.centerX, game.world.centerY);\r\n      this.villainShip.root.visible = false;\r\n\r\n      //--------------------------------------------------------------------\r\n      // make friends\r\n      this.hunter = game.add.sprite(0, 0, 'hunter', 'hunter_stand');\r\n      this.hunter.anchor.setTo(0.5, 1);\r\n      this.hunter.animations.add('stand', ['hunter_stand'], 1, true);\r\n      this.hunter.animations.add('jump', ['hunter_jump1', 'hunter_jump2', 'hunter_jump3'], 5, false)\r\n      this.hunter.animations.add('shoot', ['hunter_shoot1', 'hunter_shoot2', 'hunter_shoot3', 'hunter_shoot4', 'hunter_stand'], 10, false);\r\n      this.hunter.scale = new Phaser.Point(0.6, 0.6);\r\n\r\n      this.tomKarate = game.add.sprite(0, 0, 'tomkarate', 'tomkarate_stand');\r\n      this.tomKarate.anchor.setTo(0.5, 1);\r\n      this.tomKarate.animations.add('stand', ['tomkarate_stand'], 1, true);\r\n      this.tomKarate.animations.add('jump', ['tomkarate_jump'], 1, false)\r\n      this.tomKarate.animations.add('punch', ['tomkarate_punch1', 'tomkarate_punch2', 'tomkarate_punch1', 'tomkarate_stand'], 10, false);\r\n      this.tomKarate.scale = new Phaser.Point(0.35, 0.35);\r\n\r\n      //--------------------------------------------------------------------\r\n      // make raft group\r\n      this.raft = game.add.sprite(0, 0, 'raft');\r\n      this.raft.anchor.setTo(0.5, 0.5);\r\n      this.raft.width = 300;\r\n      this.raft.height = 75;\r\n\r\n      this.raftGroup = game.add.group(null, 'raft-group', true);\r\n      this.raftGroup.position = new Phaser.Point(game.world.centerX - 100, game.world.centerY + 200);\r\n      this.raftGroup.z = 100;\r\n      this.raftGroup.add(this.raft);\r\n      this.raft.position = new Phaser.Point(0, 0);\r\n      \r\n      this.thoseWhoFallInWater = game.add.group(null, 'jumping-friends', true);\r\n      this.thoseWhoFallInWater.position.setTo(this.raftGroup.x, this.raftGroup.y); // NOTE: 147e9cda: jumpingFriends.position will be the same as raftGroup.position, so that friends will always be relative to the same place\r\n      this.thoseWhoFallInWater.enableBody = true;\r\n      this.thoseWhoFallInWater.physicsBodyType = Phaser.Physics.ARCADE;\r\n\r\n      var raftBounce=game.add.tween(this.raftGroup);\r\n      raftBounce.loop(true);\r\n      raftBounce.to({ y: game.world.centerY + 210 }, 1000, Phaser.Easing.Sinusoidal.Out);\r\n      raftBounce.to({ y: game.world.centerY + 200 }, 1000, Phaser.Easing.Sinusoidal.Out);\r\n      //raftBounce.onComplete.add(startBounceTween, this);\r\n      raftBounce.start();\r\n\r\n      //--------------------------------------------------------------------\r\n      // particle effect: exploding logs\r\n      this.emitterLogs = game.add.emitter(0, 0, 100);\r\n      this.emitterLogs.makeParticles('log-debris', ['log1', 'log2', 'log3', 'log4', 'log5'], 20, false, false);\r\n      const angleRange = 40;\r\n      this.emitterLogs.setAngle(-90 - angleRange/2, -90 + angleRange/2, 2000, 3000);\r\n      this.emitterLogs.scale = new Phaser.Point(0.25, 0.25);\r\n      this.emitterLogs.gravity = new Phaser.Point(0, 3000);\r\n      this.emitterLogs.position = this.raftGroup.position;\r\n\r\n      //--------------------------------------------------------------------\r\n      // make stella\r\n      this.stella = this.game.add.sprite(0, 0, 'blocks', 'block1');\r\n      this.stella.anchor.setTo(0.5, 1);\r\n      this.stella.animations.add('rock', ['block1'], 1, true);\r\n      let stellaAnimEplode = this.stella.animations.add('explode', ['block2', 'block3', 'block4'], 10, false);\r\n      //stellaAnimEplode.killOnComplete = true; // CODE: e1a237bd\r\n      stellaAnimEplode.onComplete.add((stellaSprite: Phaser.Sprite, animation: Phaser.Animation) => {\r\n        this.stella.kill(); // CODE: e1a237bd\r\n      }, game);\r\n      \r\n      // falling shit group/stella physics\r\n      this.arcadePhysicsGroup00 = this.game.add.group(null, 'falling-sjit', true);\r\n      this.arcadePhysicsGroup00.enableBody = true;\r\n      this.arcadePhysicsGroup00.physicsBodyType = Phaser.Physics.ARCADE;\r\n      this.arcadePhysicsGroup00.add(this.stella);\r\n      \r\n      this.stella.physicsEnabled = true;\r\n      this.stella.physicsType = Phaser.Physics.ARCADE;\r\n\r\n      // target text\r\n      this.spriteTextCur = this.game_add_typingTextSprite(game, 'nioptesa');\r\n      this.spriteTextCur.stroke = \"#fff\";\r\n      this.spriteTextCur.strokeThickness = 10;\r\n      this.arcadePhysicsGroup00.add(this.spriteTextCur);\r\n\r\n      //--------------------------------------------------------------------\r\n      // misc\r\n      this.gameOverSign = game.add.sprite(game.world.centerX, game.world.centerY, 'game-over');\r\n      this.gameOverSign.anchor.setTo(0.5, 0.5);\r\n      this.gameOverSign.z = 1000;\r\n      this.gameOverSign.visible = false;\r\n\r\n      this.rateMeterSprite = new RateMeterUiSprite(game);\r\n\r\n      //--------------------------------------------------------------------\r\n      // inputs\r\n      // this.buttonFire = game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR);\r\n      // this.buttonA = game.input.keyboard.addKey(Phaser.Keyboard.A);\r\n      // this.buttonD = game.input.keyboard.addKey(Phaser.Keyboard.D);\r\n      game.input.keyboard.addCallbacks(game, (e:KeyboardEvent) => {\r\n        if (this.gameOverPrettyMuch && (e.keyCode == Phaser.KeyCode.SPACEBAR || e.keyCode == Phaser.KeyCode.ENTER)) {\r\n          this.resetGame(game);\r\n          e.preventDefault();\r\n          return;\r\n        }\r\n        if (this.friendsJumpedShip)\r\n          return;\r\n        \r\n        console.log(`KB: down`, e);\r\n        // TODO: 75c92e0a: how to test if KeyboardEvent is a letter\r\n        if (e.keyCode == Phaser.KeyCode.BACKSPACE) {\r\n          this.textUser = this.textUser.substr(0, this.textUser.length - 1);\r\n          this.spriteTextCur.addColor('#000', this.textUser.length);\r\n          if (this.typingRate > 0 && this.gameplayState == GameplayStates.Stella) {\r\n            this.typingRate -= this.TypingRateDeltaOutOf1; // NOTE: 520a7067: bump rate down each time user presses backspace (if in stella mode!)\r\n            this.rateMeterSprite.setRate(this.typingRate);\r\n          }\r\n          e.preventDefault();\r\n        }\r\n        else if (e.keyCode == Phaser.KeyCode.SPACEBAR || e.keyCode == Phaser.KeyCode.ENTER) {\r\n          if (this.textUser == this.textCur)\r\n            this.frendsWillAttack(game);\r\n          e.preventDefault();\r\n        }\r\n        else if (this.util_isLetter(e.key)) {\r\n          this.textUser = this.textUser + e.key;\r\n          if (this.textCur.startsWith(this.textUser)) {\r\n            //this.hunter.animations.play('shoot');\r\n          }\r\n          else {\r\n            //console.log(`fail`, e.key);\r\n            this.rougueChar = e.key;\r\n          }\r\n        }\r\n        this.updateSpriteTextColors();\r\n        console.log(`KB: ${this.textUser}`);\r\n      }, (e:KeyboardEvent) => {\r\n        // console.log(`up`, e);\r\n      }, (keyText:string) => {\r\n        // console.log(`press`, keyText);\r\n      });\r\n\r\n      var vocabTextAll = game.cache.getText('vocab');\r\n      this.vocabWords = vocabTextAll.split('\\n').map(x => x.trim());\r\n\r\n      //--------------------------------------------------------------------\r\n      // start game\r\n      this.resetGame(game);\r\n    }\r\n    \r\n    resetGame(game: Phaser.Game) {\r\n      this.friendsJumpedShip = false;\r\n      this.gameOverPrettyMuch = false;\r\n      this.gameOverSign.visible = false;\r\n      // this.bgScrollingPyramids.reset(); // DESIGN: 0ba5fc45: dont need to reset the pyramids for each rerun, let them scroll pseudo-randomly!\r\n      // this.bgScrollingTrees.reset();\r\n      \r\n      // revive raft and friends\r\n      this.thoseWhoFallInWater.remove(this.hunter);\r\n      this.thoseWhoFallInWater.remove(this.tomKarate);\r\n      this.raftGroup.visible = true;\r\n      this.addFriendsToRaftGroup();\r\n\r\n      this.setGameplayState(GameplayStates.Stella);\r\n      this.typingRate = this.TypingRateStartValue;\r\n      this.rateMeterSprite.setRate(this.typingRate);\r\n\r\n      // GO!\r\n      this.nextWord();\r\n    }\r\n\r\n    setGameplayState(state: GameplayStates) {\r\n      if (state == GameplayStates.Stella) {\r\n        this.villainShip.root.visible = false;\r\n        this.villainShip.stopOminousFlying();\r\n        this.villainShip.killRockProjectile();\r\n        this.gameplayState = GameplayStates.Stella;\r\n      }\r\n      else if (state == GameplayStates.Villain) {\r\n        if (this.gameplayState == GameplayStates.Stella) {\r\n          console.log(`EVENT: typingRate reached 1.0, introduce villain`);\r\n          this.villainShip.root.visible = true;\r\n          this.villainShip.declencheOminousFlying();\r\n        }\r\n        this.gameplayState = GameplayStates.Villain;\r\n      }\r\n      else if (state == GameplayStates.GameOver) {\r\n        this.gameplayState = GameplayStates.GameOver;\r\n        // state cleanup????\r\n      }\r\n    }\r\n\r\n    breakRaft(game: Phaser.Game) {\r\n      this.friendsJumpedShip = true;\r\n      this.emitterLogs.start(true, 2000, null, 15);\r\n      this.hunter.animations.play('jump');\r\n      this.tomKarate.animations.play('jump');\r\n      this.raftGroup.remove(this.hunter);\r\n      this.raftGroup.remove(this.tomKarate);\r\n      this.thoseWhoFallInWater.add(this.hunter);\r\n      this.thoseWhoFallInWater.add(this.tomKarate);\r\n      this.hunter.body.velocity.x = -Math.random() * 100;\r\n      this.hunter.body.velocity.y = -800 + Math.random() * 100;\r\n      this.hunter.body.gravity.y = 1500;\r\n      this.tomKarate.body.velocity.x = Math.random() * 100;\r\n      this.tomKarate.body.velocity.y = -800 + Math.random() * 100;\r\n      this.tomKarate.body.gravity.y = 1500;\r\n      this.raftGroup.visible = false;\r\n      game.time.events.add(Phaser.Timer.SECOND * 2, () => {\r\n        this.gameOverSign.visible = true;\r\n        this.gameOverPrettyMuch = true;\r\n      }, game);\r\n    }\r\n\r\n    blowUpStella() {\r\n      this.stella.animations.play('explode');\r\n      //this.stella.body.gravity.y = 0;\r\n      this.stella.body.velocity.y = -100;\r\n      //this.stella.kill();\r\n    }\r\n\r\n    addFriendsToRaftGroup() {\r\n      this.hunter.revive();\r\n      this.raftGroup.add(this.hunter);\r\n      this.raftGroup.add(this.tomKarate);\r\n      this.hunter.reset(-50, -10);\r\n      this.tomKarate.reset(50, -5);\r\n      this.hunter.animations.play('stand');\r\n      this.tomKarate.animations.play('stand');\r\n      if (this.hunter.body) {\r\n        this.hunter.body.velocity.x = 0;\r\n        this.hunter.body.velocity.y = 0;\r\n        this.hunter.body.gravity.y = 0;\r\n      }\r\n      if (this.tomKarate.body) {\r\n        this.tomKarate.body.velocity.x = 0;\r\n        this.tomKarate.body.velocity.y = 0;\r\n        this.tomKarate.body.gravity.y = 0;\r\n      }\r\n    }\r\n\r\n    nextWord() {\r\n      this.textCur = _.sample(this.vocabWords);\r\n      this.textUser = '';\r\n      console.log(`EVENT: next text: ${this.textCur}`);\r\n      \r\n      if (this.gameplayState == GameplayStates.Stella) {\r\n        this.spriteTextCur.setText(this.textCur);\r\n        this.spriteTextCur.clearColors();\r\n        //this.stella.revive(1); // CODE: e1a237bd: i guess `stella.reset` will revive it?\r\n        this.stella.animations.play('rock');\r\n        this.stella.reset(this.stellaX, this.stellaY);\r\n        this.stella.body.gravity.y = this.stellaGravity;\r\n      }\r\n      else if (this.gameplayState == GameplayStates.Villain) {\r\n        this.spriteTextCur.setText(this.textCur);\r\n        this.spriteTextCur.clearColors();\r\n        this.curRockEvent = this.game.time.events.add(this.TimeSecondsTillRockIsFired * Phaser.Timer.SECOND, () => {\r\n          this.villainShip.FireRock(this.arcadePhysicsGroup00);\r\n        }, this.game);\r\n      }\r\n    }\r\n\r\n    frendsWillAttack(game: Phaser.Game) {\r\n      if (this.gameplayState == GameplayStates.Stella) {\r\n        // .... which friend will attack?\r\n        if (this.stella.position.y < game.world.centerY - 100)\r\n          this.hunter.animations.play('shoot');\r\n        else if (this.stella.position.y <= game.world.centerY + 50)\r\n          this.hunter.animations.play('shoot');\r\n        else\r\n          this.tomKarate.animations.play('punch');\r\n        \r\n        this.blowUpStella();\r\n\r\n        // NOTE: 520a7067: bump rate up on successful word\r\n        this.typingRate += this.TypingRateDeltaOutOf1;\r\n        this.rateMeterSprite.setRate(this.typingRate);\r\n        if (this.typingRate >= 1) {\r\n          this.setGameplayState(GameplayStates.Villain);\r\n        }\r\n\r\n        // .... next word!!!\r\n        this.game.time.events.add(0.2 * Phaser.Timer.SECOND, () => {\r\n          this.nextWord();\r\n        }, this.game);\r\n      }\r\n      else if (this.gameplayState == GameplayStates.Villain) {\r\n        if (this.villainShip.rockIsFlying) {\r\n          // .... which friend will attack?\r\n          this.tomKarate.animations.play('punch');\r\n          this.villainShip.killRockProjectile();\r\n\r\n          // .... next word!!!\r\n          this.game.time.events.add(0.2 * Phaser.Timer.SECOND, () => {\r\n            this.nextWord();\r\n          }, this.game);\r\n        }\r\n        else {\r\n          this.hunter.animations.play('shoot');\r\n\r\n          this.game.time.events.remove(this.curRockEvent);\r\n          console.log(`TODO: 0dae0790: subtract life from villain here`);\r\n          this.villainShip.declencheBlowUp();\r\n          this.thoseWhoFallInWater.add(this.villainShip.villain.root);\r\n          this.villainShip.villain.root.position.subtract(this.raftGroup.x, this.raftGroup.y); // NOTE: 147e9cda\r\n          this.villainShip.villain.root.body.gravity.y = 200;\r\n          // this.villainShip.villain.root.body.velocity.y = 100; // NOTE: linear fall looks cuter!\r\n\r\n          console.log(`TODO: transition to next level`);\r\n          game.time.events.add(Phaser.Timer.SECOND * 3, () => {\r\n            this.gameOverSign.visible = true;\r\n            this.gameOverPrettyMuch = true;\r\n          }, game);\r\n        }\r\n      }\r\n\r\n    }\r\n\r\n    updateSpriteTextColors() {\r\n      let resultText = this.textCur;\r\n      if (this.textUser.length > this.textCur.length)\r\n        resultText += this.textUser.substring(this.textCur.length);\r\n      this.spriteTextCur.setText(resultText);\r\n      this.spriteTextCur.clearColors();\r\n      if (this.textUser == this.textCur) {\r\n        this.spriteTextCur.addColor('#0a0', 0);\r\n        return;\r\n      }\r\n      for (let i = 0; i < this.textUser.length; i++) {\r\n        // if (i >= this.textCur.length)\r\n        //   break;\r\n        if (this.textUser[i] == this.textCur[i])\r\n          this.spriteTextCur.addColor('#0d0', i);\r\n        else\r\n          this.spriteTextCur.addColor('#f00', i);\r\n      }\r\n      this.spriteTextCur.addColor('#000', this.textUser.length);\r\n    }\r\n\r\n    update(game: Phaser.Game) {\r\n      this.bgScrollingDunes.tilePosition.x -= 1;\r\n      this.bgScrollingGrass.tilePosition.x -= 1.5;\r\n\r\n      // if (this.buttonA.isDown)\r\n      //   this.hunter.animations.play('shoot');\r\n      // if (this.buttonD.isDown)\r\n      //   this.tomKarate.animations.play('punch');\r\n      // if (this.buttonFire.isDown) {\r\n      //   this.breakRaft();\r\n      // }\r\n\r\n      this.thoseWhoFallInWater.forEachAlive((sprite: Phaser.Sprite) => {\r\n        // NOTE: 147e9cda: position is relative to the jumpingFriends group\r\n        console.log('forEachAlive', sprite.position.y);\r\n        if (sprite.position.y > 60) {\r\n          sprite.kill();\r\n          var splash = this.splashes.getFirstExists(false);\r\n          if (splash) {\r\n            // console.log(`sploosh!`, sprite.x + this.jumpingFriends.x, sprite.y + this.jumpingFriends.y);\r\n            splash.reset(sprite.x + this.thoseWhoFallInWater.x, sprite.y + this.thoseWhoFallInWater.y);\r\n            splash.animations.play('splash');\r\n          }\r\n        }\r\n      });\r\n\r\n      if (this.stella.position.y > game.world.centerY + 200 && !this.friendsJumpedShip) {\r\n        this.blowUpStella();\r\n        this.breakRaft(game);\r\n      }\r\n      if (this.villainShip.rockIsFlying && this.villainShip.rockProjectile.position.y > game.world.centerY + 200 && !this.friendsJumpedShip) {\r\n        this.villainShip.killRockProjectile();\r\n        // TODO: 8a1371ca: blow up rock?\r\n        //this.blowUpStella();\r\n        this.breakRaft(game);\r\n      }\r\n    }\r\n\r\n    game_add_River(game: Phaser.Game) {\r\n      var drawnObject;\r\n      var bmd = game.add.bitmapData(800, 350);\r\n      bmd.ctx.beginPath();\r\n      bmd.ctx.rect(0, 0, 800, 350);\r\n      bmd.ctx.fillStyle = '#29acdb';\r\n      bmd.ctx.fill();\r\n      drawnObject = game.add.sprite(0, 330, bmd);\r\n    }\r\n\r\n    game_add_typingTextSprite(game: Phaser.Game, text: string): Phaser.Text {\r\n      let textSprite = game.add.text(this.stellaX, this.stellaY, text, {\r\n        font: \"50px Helvetica\",\r\n        // font: \"50px monospace\",\r\n        fill: '#000', //\"#ff0044\",\r\n        align: \"center\"\r\n      });\r\n      textSprite.anchor.setTo(0.5, 1.2);\r\n      textSprite.fontWeight = 'bold';\r\n      return textSprite;\r\n    }\r\n\r\n    private util_isLetter(c: string) {\r\n      // LINK: https://stackoverflow.com/a/32567789\r\n      return c && c.length == 1 && c.toLowerCase() != c.toUpperCase();\r\n    }\r\n\r\n  }\r\n\r\n  export class NioptesaGame {\r\n    game: Phaser.Game;\r\n    constructor(parent: any) {\r\n      let mainState = new MyGameStateMain();\r\n      this.game = new Phaser.Game(800, 600, Phaser.CANVAS, parent, mainState);\r\n    }\r\n  }\r\n\r\n  export class SimpleGameCodepen {\r\n    game: Phaser.Game;\r\n    constructor() {\r\n      let mainState = new MyGameStateMain();\r\n      this.game = new Phaser.Game(800, 600, Phaser.CANVAS, 'content', mainState); // LESSON: Phaser.CANVAS works in codepen, but Phaser.AUTO defaults to WEBGL for some reason and fails\r\n    }\r\n  }\r\n\r\n}\r\n\r\n//======================= for codepen comment these lines... ===================================\r\n\r\nexport const NioptesaGame = AcousterNioptesa.NioptesaGame;\r\nexport type NioptesaGame = AcousterNioptesa.NioptesaGame;\r\n\r\n//======================= ...and uncomment these lines ===================================\r\n\r\n// window.onload = () => { new AcousterNioptesa.SimpleGameCodepen(); };\r\n\r\n// ... and also remove `export` from `export module AcousterNioptesa `\r\n// ... also codepen does not support this syntax: <ClassName> { ... }, so remove all `<RandomSidescrollingArtifactsConfig>`, etc\r\n\n\n\n// WEBPACK FOOTER //\n// C:/_mik/gh/a5/JustTypingA5/src/app/jt-game/my-game.ts","module.exports = \"<div #myDiv></div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/_mik/gh/a5/JustTypingA5/src/app/test-game/test-game.component.html\n// module id = ../../../../../src/app/test-game/test-game.component.html\n// module chunks = main","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/_mik/gh/a5/JustTypingA5/src/app/test-game/test-game.component.less\n// module id = ../../../../../src/app/test-game/test-game.component.less\n// module chunks = main","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { TestGame } from 'app/jt-game/sprite-test';\r\nimport { NioptesaGame } from 'app/jt-game/my-game';\r\n\r\n@Component({\r\n  selector: 'jt-test-game',\r\n  templateUrl: './test-game.component.html',\r\n  styleUrls: ['./test-game.component.less']\r\n})\r\nexport class TestGameComponent implements OnInit {\r\n\r\n  @ViewChild('myDiv')\r\n  myCanvasElem: ElementRef;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n    var game = new NioptesaGame(this.myCanvasElem.nativeElement);\r\n    // var game = new TestGame(this.myCanvasElem.nativeElement);\r\n  }\r\n\r\n}\r\n\r\n// TODO: move to commons so this is available GLOBALLY\r\nconst nameof = <T>(name: keyof T) => name;\r\n\n\n\n// WEBPACK FOOTER //\n// C:/_mik/gh/a5/JustTypingA5/src/app/test-game/test-game.component.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// C:/_mik/gh/a5/JustTypingA5/src/environments/environment.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n\n\n\n// WEBPACK FOOTER //\n// C:/_mik/gh/a5/JustTypingA5/src/main.ts","export default class Prando {\r\n\r\n  private static MIN: number = -2147483648; // Int32 min\r\n  private static MAX: number = 2147483647; // Int32 max\r\n\r\n  private _seed: number;\r\n  private _value: number = NaN;\r\n\r\n\r\n  // ================================================================================================================\r\n  // CONSTRUCTOR ----------------------------------------------------------------------------------------------------\r\n\r\n\t/**\r\n\t * Generate a new Prando pseudo-random number generator.\r\n\t *\r\n\t * @param seed - A number or string seed that determines which pseudo-random number sequence will be created. Defaults to current time.\r\n\t */\r\n  constructor(seed?: number | string) {\r\n    if (typeof (seed) === \"string\") {\r\n      // String seed\r\n      this._seed = this.hashCode(seed);\r\n    } else if (typeof (seed) === \"number\") {\r\n      // Numeric seed\r\n      this._seed = seed;\r\n    } else {\r\n      // Pseudo-random seed\r\n      this._seed = Date.now() + Math.random();\r\n    }\r\n    this.reset();\r\n  }\r\n\r\n\r\n  // ================================================================================================================\r\n  // PUBLIC INTERFACE -----------------------------------------------------------------------------------------------\r\n\r\n\t/**\r\n\t * Generates a pseudo-random number between a lower (inclusive) and a higher (exclusive) bounds.\r\n\t *\r\n\t * @param min - The minimum number that can be randomly generated.\r\n\t * @param pseudoMax - The maximum number that can be randomly generated (exclusive).\r\n\t * @return The generated pseudo-random number.\r\n\t */\r\n  public next(min: number = 0, pseudoMax: number = 1): number {\r\n    this.recalculate();\r\n    return this.map(this._value, Prando.MIN, Prando.MAX, min, pseudoMax);\r\n  }\r\n\r\n\t/**\r\n\t * Generates a pseudo-random integer number in a range (inclusive).\r\n\t *\r\n\t * @param min - The minimum number that can be randomly generated.\r\n\t * @param max - The maximum number that can be randomly generated.\r\n\t * @return The generated pseudo-random number.\r\n\t */\r\n  public nextInt(min: number = 10, max: number = 100): number {\r\n    this.recalculate();\r\n    return Math.floor(this.map(this._value, Prando.MIN, Prando.MAX, min, max + 1));\r\n  }\r\n\r\n\t/**\r\n\t * Generates a pseudo-random string sequence of a particular length from a specific character range.\r\n\t *\r\n\t * Note: keep in mind that creating a random string sequence does not guarantee uniqueness; there is always a\r\n\t * 1 in (char_length^string_length) chance of collision. For real unique string ids, always check for\r\n\t * pre-existing ids, or employ a robust GUID/UUID generator.\r\n\t *\r\n\t * @param length - Length of the strting to be generated.\r\n\t * @param chars - Characters that are used when creating the random string. Defaults to all alphanumeric chars (A-Z, a-z, 0-9).\r\n\t * @return The generated string sequence.\r\n\t */\r\n  public nextString(length: number = 16, chars: string = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\"): string {\r\n    let str = \"\";\r\n    while (str.length < length) {\r\n      str += this.nextChar(chars);\r\n    }\r\n    return str;\r\n  }\r\n\r\n\t/**\r\n\t * Generates a pseudo-random string of 1 character specific character range.\r\n\t *\r\n\t * @param chars - Characters that are used when creating the random string. Defaults to all alphanumeric chars (A-Z, a-z, 0-9).\r\n\t * @return The generated character.\r\n\t */\r\n  public nextChar(chars: string = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\"): string {\r\n    this.recalculate();\r\n    return chars.substr(this.nextInt(0, chars.length - 1), 1);\r\n  }\r\n\r\n\t/**\r\n\t * Picks a pseudo-random item from an array. The array is left unmodified.\r\n\t *\r\n\t * Note: keep in mind that while the returned item will be random enough, picking one item from the array at a time\r\n\t * does not guarantee nor imply that a sequence of random non-repeating items will be picked. If you want to\r\n\t * *pick items in a random order* from an array, instead of *pick one random item from an array*, it's best to\r\n\t * apply a *shuffle* transformation to the array instead, then read it linearly.\r\n\t *\r\n\t * @param array - Array of any type containing one or more candidates for random picking.\r\n\t * @return An item from the array.\r\n\t */\r\n  public nextArrayItem<T>(array: T[]): T {\r\n    this.recalculate();\r\n    return array[this.nextInt(0, array.length - 1)];\r\n  }\r\n\r\n\t/**\r\n\t * Generates a pseudo-random boolean.\r\n\t *\r\n\t * @return A value of true or false.\r\n\t */\r\n  public nextBoolean(): boolean {\r\n    this.recalculate();\r\n    return this._value > 0.5;\r\n  }\r\n\r\n\t/**\r\n\t * Skips ahead in the sequence of numbers that are being generated. This is equivalent to\r\n\t * calling next() a specified number of times, but faster since it doesn't need to map the\r\n\t * new random numbers to a range and return it.\r\n\t *\r\n\t * @param iterations - The number of items to skip ahead.\r\n\t */\r\n  public skip(iterations: number = 1): void {\r\n    while (iterations-- > 0) {\r\n      this.recalculate();\r\n    }\r\n  }\r\n\r\n\t/**\r\n\t * Reset the pseudo-random number sequence back to its starting seed. Further calls to next()\r\n\t * will then produce the same sequence of numbers it had produced before. This is equivalent to\r\n\t * creating a new Prando instance with the same seed as another Prando instance.\r\n\t *\r\n\t * Example:\r\n\t * let rng = new Prando(12345678);\r\n\t * console.log(rng.next()); // 0.6177754114889017\r\n\t * console.log(rng.next()); // 0.5784605181725837\r\n\t * rng.reset();\r\n\t * console.log(rng.next()); // 0.6177754114889017 again\r\n\t * console.log(rng.next()); // 0.5784605181725837 again\r\n\t */\r\n  public reset(): void {\r\n    this._value = this._seed;\r\n  }\r\n\r\n\r\n  // ================================================================================================================\r\n  // PRIVATE INTERFACE ----------------------------------------------------------------------------------------------\r\n\r\n  private recalculate(): void {\r\n    // Xorshift*32\r\n    // Based on George Marsaglia's work: http://www.jstatsoft.org/v08/i14/paper\r\n    this._value ^= this._value << 13;\r\n    this._value ^= this._value >> 17;\r\n    this._value ^= this._value << 5;\r\n  }\r\n\r\n  private map(val: number, minFrom: number, maxFrom: number, minTo: number, maxTo: number) {\r\n    return ((val - minFrom) / (maxFrom - minFrom)) * (maxTo - minTo) + minTo;\r\n  }\r\n\r\n  private hashCode(str: string): number {\r\n    let hash = 0;\r\n    if (str) {\r\n      const l = str.length;\r\n      for (let i = 0; i < l; i++) {\r\n        hash = ((hash << 5) - hash) + str.charCodeAt(i);\r\n        hash |= 0;\r\n      }\r\n    }\r\n    return hash;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/_mik/gh/a5/JustTypingA5/src/test-3rd-party/prando.ts"],"sourceRoot":"webpack:///"}